import{d as R,u as $,r as d,b as s,e as j,f as a,g as G,i as t,l as x,t as b,m as _,G as z}from"./index-B8j9Fg8x.js";import{l as M}from"./lodash-kvVwPKOQ.js";import{t as O}from"./others-T9VVtF7b.js";import"./axios-QLjAsgXu.js";const K=R({__name:"Translator",setup(P){const{locale:C,t:f}=$(),c=d(!1),h=d(""),u=d(""),g=d(!1),v=d(localStorage.getItem("dashboard-lang")||"ru"),w=d("en"),y=[{title:"English",lang:"en"},{title:"Русский",lang:"ru"},{title:"O'zbekcha",lang:"uz"},{title:"한국어",lang:"ko"},{title:"تيلي عربي",lang:"ar"}],I=()=>{c.value?c.value=!1:(c.value=!0,S())},S=()=>{const l=new window.webkitSpeechRecognition;l.lang=v.value,l.onresult=e=>{const n=e.results[0][0].transcript;h.value+=n+" "||"",V(n),c.value&&S()},c.value&&l.start()},V=async l=>{if(!l.trim())return u.value="";g.value=!0;try{const e=await O(`${v.value}|${w.value}`,l);g.value=!1,u.value=e.data.responseData.translatedText}catch{u.value=l+" ["+{ru:"Сетевое соединение потеряно",en:"Connection failed with servise",uz:"Tarmoq bilan aloqa uzildi"}[C.value]+"...]"}},U=M.debounce(l=>{const e=l.target.value;V(e)},500),D=async()=>{function l(e,n,i,r,m){let o=new window.SpeechSynthesisUtterance;o.volume=m,o.rate=i,o.pitch=r,o.text=e,o.lang="en-US",o.voice=n,console.log(arguments),speechSynthesis.speak(o)}if("speechSynthesis"in window){let e=await N(),n=1,i=2,r=1;l(u.value,e[0],n,i,r)}else console.log(" Speech Synthesis Not Supported 😞")};function N(){return new Promise(function(l,e){let n=window.speechSynthesis,i;i=setInterval(()=>{n.getVoices().length!==0&&(l(n.getVoices()),clearInterval(i))},1e3)})}return(l,e)=>{const n=s("v-card-title"),i=s("v-select"),r=s("v-col"),m=s("v-row"),o=s("v-icon"),k=s("v-btn"),T=s("v-textarea"),q=s("v-card-text"),B=s("v-card"),E=s("v-container");return G(),j(E,{fluid:""},{default:a(()=>[t(B,{flat:"",width:"100%"},{default:a(()=>[t(n,null,{default:a(()=>[x(b(_(f)("translator.page_title")),1)]),_:1}),t(q,{class:"d-flex justify-center align-center"},{default:a(()=>[t(m,null,{default:a(()=>[t(r,{cols:"12"},{default:a(()=>[t(m,null,{default:a(()=>[t(r,{cols:"12",sm:"6",md:"3"},{default:a(()=>[t(i,{transition:"fade-transition",density:"compact","hide-details":"",variant:"outlined",flat:"",items:y,modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=p=>v.value=p),"item-title":"title","item-value":"lang"},null,8,["modelValue"])]),_:1}),t(r,{cols:"12",sm:"6",md:"3"},{default:a(()=>[t(i,{transition:"fade-transition",density:"compact","hide-details":"",variant:"outlined",items:y,modelValue:w.value,"onUpdate:modelValue":e[1]||(e[1]=p=>w.value=p),"item-title":"title","item-value":"lang"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(r,{cols:"12",md:"6"},{default:a(()=>[t(T,{rows:"7","hide-details":"",modelValue:h.value,"onUpdate:modelValue":e[2]||(e[2]=p=>h.value=p),variant:"outlined","no-resize":"",onInput:_(U),placeholder:_(f)("translator.placeholder_1")},{"append-inner":a(()=>[t(k,{size:"40",flat:"",color:c.value?"red":"primary",onClick:z(I,["stop"])},{default:a(()=>[t(o,{size:"25"},{default:a(()=>[x("mdi-"+b(c.value?"pause":"microphone"),1)]),_:1})]),_:1},8,["color","onClick"])]),_:1},8,["modelValue","onInput","placeholder"])]),_:1}),t(r,{cols:"12",md:"6"},{default:a(()=>[t(T,{loading:g.value,rows:"7","model-value":u.value,"hide-details":"",variant:"outlined","no-resize":"",placeholder:_(f)("translator.placeholder_2"),readonly:""},{"append-inner":a(()=>[t(k,{flat:"",size:"40",disabled:!u.value,onClick:z(D,["stop"]),color:"primary",class:"ml-2"},{default:a(()=>[t(o,{size:"25"},{default:a(()=>[x("mdi-volume-high")]),_:1})]),_:1},8,["disabled","onClick"])]),_:1},8,["loading","model-value","placeholder"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}});export{K as default};
